Index: script.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\r\n//Definition des images\r\nlet fond1=new Image();\r\nlet fond2=new Image();\r\nlet brume=new Image();\r\nfond2.src = \"fond/style2.png\";\r\nfond1.src = \"fond/style1.png\";\r\nbrume.src = \"nuage/nuage_defaut.png\";\r\n\r\n//Definition des varibales par défaut\r\nlet initial = \"\";\r\nlet dataURL = \"#\";\r\nlet bg_style = fond1;\r\nlet name = \"\";\r\nlet color = \"white\"\r\nlet txt_style = \"source-over\"\r\n\r\n//Recuperation des element dans le DOM\r\n\r\nconst alert_initial = document.createElement(\"p\").textContent = \"Le text ne doit pas être supérieure à 3 lettre\";\r\nalert_initial.className = \"alert_initial\";\r\n\r\nconst canvas = document.querySelector(\"canvas\");\r\nconst ctx = canvas.getContext('2d');\r\n\r\nconst result = document.querySelector(\"#result\");\r\nconst download = document.querySelector(\"#c_download\");\r\n\r\nconst b_color_def = document.querySelector(\"#color_def\");\r\nconst b_color_red = document.querySelector(\"#color_red\");\r\nconst b_color_blue = document.querySelector(\"#color_blue\");\r\nconst twitter_result = document.querySelector(\"#twitter_result_img\");\r\n\r\nfunction getValue() {\r\n    initial = document.querySelector(\"#initial\").value;\r\n\r\n//verifie que le text ne fait pas plus de 3 lettres\r\n\r\n    if (initial.length > 3){\r\n        console.log(\"Le text ne doit pas être supérieure à 3 lettre\")\r\n        name = \"\";\r\n        drawn()\r\n    } else {\r\n        name = initial\r\n        console.log(initial.length);\r\n    }\r\n\r\n//Modifi la taille de la police par rapport aux nombres de lettres\r\n\r\n    if (name.length === 1) {\r\n        ctx.font = \"800px 'Burbank Big Condensed Black'\";\r\n        drawn()\r\n    }\r\n    if (name.length === 2) {\r\n        ctx.font = \"600px 'Burbank Big Condensed Black'\";\r\n        drawn()\r\n    }\r\n    if (name.length === 3) {\r\n        ctx.font = \"400px 'Burbank Big Condensed Black'\";\r\n        drawn()\r\n    }\r\n}\r\nb_color_def.onclick = function (){\r\n    brume.src = \"nuage/nuage_defaut.png\";\r\n    color = \"#ffff\"\r\n    txt_style = \"source-over\"\r\n    drawn()\r\n}\r\nb_color_red.onclick = function (){\r\n    brume.src = \"nuage/nuage_red.png\";\r\n    color = \"red\"\r\n    txt_style = \"color\"\r\n    drawn()\r\n}\r\nb_color_blue.onclick = function (){\r\n    brume.src = \"nuage/nuage_blue.png\";\r\n    color = \"#3ba4ff\";\r\n    txt_style = \"color\";\r\n    drawn()\r\n}\r\n\r\nfond1.onload = function (){\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    ctx.drawImage(bg_style,0,0,);\r\n    ctx.filter = \"none\";\r\n    ctx.fillStyle = color;\r\n    ctx.textAlign = \"center\";\r\n    ctx.textBaseline = \"middle\";\r\n    ctx.font = \"600px 'Burbank Big Condensed Black'\";\r\n    ctx.shadowBlur = 30;\r\n    ctx.shadowColor = \"rgba(0,0,0,0.4)\";\r\n    ctx.fillText(\"\uD83D\uDE0E\",canvas.width/2, canvas.height/1.8)\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    ctx.drawImage(brume,0,0,800,800);\r\n    dataURL = canvas.toDataURL(\"image/png\")\r\n    twitter_result.src = dataURL\r\n}\r\n\r\nfunction drawn(){\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    //ctx.filter = \"blur(10px)\";\r\n    ctx.drawImage(bg_style,0,0,);\r\n    ctx.filter = \"none\";\r\n    ctx.fillStyle = color;\r\n    ctx.textAlign = \"center\";\r\n    ctx.textBaseline = \"middle\";\r\n    ctx.filter = \"blur(10px)\";\r\n    ctx.strokeStyle = \"rgba(0,0,0,0.4)\";\r\n    ctx.lineWidth = 15;\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    ctx.strokeText(name.toLocaleUpperCase(),canvas.width/2, canvas.height/1.8);\r\n    ctx.filter = \"none\";\r\n    ctx.globalCompositeOperation = txt_style;\r\n    ctx.fillText(name.toLocaleUpperCase(),canvas.width/2, canvas.height/1.8);\r\n\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    ctx.drawImage(brume,0,0,800,800);\r\n\r\n    dataURL = canvas.toDataURL(\"image/png\")\r\n    download.download = \"PDP_\" + initial + \".jpeg\";\r\n    twitter_result.src = dataURL\r\n    // <a download=\"test.jpeg\" href=\"#\" id=\"c_download\">Download</a>\r\n}\r\n\r\ndownload.onclick=function(){\r\n    if (download.href === \"#\") {\r\n    } else {\r\n        download.href = dataURL;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/script.js b/script.js
--- a/script.js	(revision a54e036a08886a3e676bbaf0bae637ae1560e672)
+++ b/script.js	(date 1701169100845)
@@ -78,6 +78,12 @@
     txt_style = "color";
     drawn()
 }
+b_color_blue.onclick = function (){
+    brume.src = "nuage/nuage_blue.png";
+    color = "#3ba4ff";
+    txt_style = "color";
+    drawn()
+}
 
 fond1.onload = function (){
     ctx.globalCompositeOperation = "source-over";
